<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Us</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>

<body>

<div id="startScreen">
  <p>Tap to open the album</p>
</div>

<div id="album" class="hidden">
  <div class="polaroid">
    <img id="photo">
    <p id="caption"></p>
  </div>

  <div class="controls">
    <button onclick="prev()">‚Üê</button>
    <span id="count"></span>
    <button onclick="next()">‚Üí</button>
  </div>
</div>

<audio id="bgm">
  <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
/* üî• INLINE JS ‚Äî CANNOT FAIL */

const memories = [
  ["1.jpg","This wasn‚Äôt just a day. It became a memory."],
  ["2.jpg","This is how I remember us ‚Äî without noise, just holding on."],
  ["3.jpg","I felt safe here. I still do when I think about it."],
  ["4.jpg","You always made even ordinary moments feel lighter."],
  ["5.jpg","This smile was real. Nothing was forced."],
  ["6.jpg","You always wanted this moment saved on your digicam."],
  ["7.jpg","You were my home."],
  ["8.jpg","In those moments, the world felt smaller, just us."],
  ["9.jpg","You took care of me in ways I never asked for."],
  ["10.jpg","Some memories don‚Äôt fade ‚Äî they just stay quiet."],
  ["11.jpg","Us in the small world."]
];

let i = 0;
let opened = false;

const start = document.getElementById("startScreen");
const album = document.getElementById("album");
const photo = document.getElementById("photo");
const caption = document.getElementById("caption");
const count = document.getElementById("count");
const bgm = document.getElementById("bgm");

function show(){
  photo.src = memories[i][0];
  caption.innerText = memories[i][1];
  count.innerText = (i+1) + " / " + memories.length;
}

function next(){
  if(i < memories.length-1){ i++; show(); }
}

function prev(){
  if(i > 0){ i--; show(); }
}

start.onclick = startAlbum;
start.ontouchstart = startAlbum;

function startAlbum(){
  if(opened) return;
  opened = true;

  start.style.display = "none";
  album.classList.remove("hidden");

  bgm.loop = true;
  bgm.volume = 0.7;
  bgm.play().catch(()=>{});

  show();
}
</script>

</body>
</html>
